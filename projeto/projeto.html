<meta charset="UTF-8">

<h1> DESAFIO: JOGO DA VELHA </h1>
<script>
    const MENSAGENS = { VITORIA: `O jogador ${vencedor} venceu! Parabéns!`,
                        EMPATE: "O jogo empatou!!",
                        JOGADA_INVALIDA_JA_OCUPADO: "Jogada inválida! A posição já está ocupada. Tente novamente.",
                        JOGADA_INVALIDA_NAO_EXISTE: "Jogada inválida! A linha e/ou coluna requisitada não existe. Tente novamente."};
    var tabuleiro = [    ["", "", ""],
                         ["", "", ""],
                         ["", "", ""]   
                    ];
    var vezDaJogada = 1;
    var estadoDoJogo = 0;
    var vencedor, linha, coluna;
    var contadorX=0;
    var contadorO=0;

    function exibirTabuleiro() {
        for (let linha=0; linha < tabuleiro.length; linha++) {
            for(let coluna=0; coluna < tabuleiro.length; coluna++){
                document.write( `[${tabuleiro[linha][coluna]} ]`)
            }
        document.write("<br>");       
        }
    }

    function jogar(tabuleiro, jogador, vezDaJogada) {
        var i=0;
        while(i==0){
        alert("A numeração das linhas e colunas do tabuleiro seguem este esquema:\n[0,0][0,1][0,2]\n[1,0][1,1][1,2]\n[2,0][2,1][2,2]");
        linha = +prompt(`Rodada ${vezDaJogada}. Participante ${jogador}, escolha a linha [0, 1 ou 2] que deseja jogar:`);
        coluna = +prompt(`Rodada ${vezDaJogada}. Participante ${jogador}, escolha a coluna [0, 1 ou 2] que deseja jogar:`);
    
        // Verificação da jogada
        if(linha>=3 || coluna>=3){
            alert(MENSAGENS.JOGADA_INVALIDA_NAO_EXISTE);
        }
        else if(tabuleiro[linha][coluna]!=""){
            alert(MENSAGENS.JOGADA_INVALIDA_JA_OCUPADO);
        }
        else{
            tabuleiro[linha][coluna] = jogador;
            i=1;
        }
    }
}

// Verificações




// Definindo os símbolos dos jogadores
    alert("JOGO DA VELHA!");

    var i = 0;
    var JOGADOR2;
        while(i==0){
            var jogador1 = prompt("Escolha X ou O para usar durante o jogo: ");
            var JOGADOR1 = jogador1.toUpperCase()

            if(JOGADOR1 != "X" && JOGADOR1 != "O"){
                alert("Símbolo inválido. Por favor, escolha entre X ou O!");
            }
            else{
                if (JOGADOR1 == "X"){
                    JOGADOR2 = "O"; 
                }
                else{
                    var JOGADOR2 = "X";   
                }
                document.write(`O símbolo do Jogador 1 é: ${JOGADOR1}. O símbolo do Jogador 2 é: ${JOGADOR2}.` + "<br>")
                i = 1;
            }
        }

// Execução do jogo:
    while(estadoDoJogo==0){
    // Jogador 1
        document.write("<br><br>" + (`Rodada ${vezDaJogada}!`).bold() + "<br><br>");
        document.write(`Jogador ${JOGADOR1}` + "<br><br>");
        jogar(tabuleiro, JOGADOR1, vezDaJogada);
        exibirTabuleiro();

        // Verificar se venceu: estadoDoJogo=1;
        // Linhas

        // Verificar se empatou: estadoDoJogo=1;

        // Verificar se não: estadoDoJogo = 0; continue no laço

    // Jogador 2
        document.write("<br>"+ `Jogador ${JOGADOR2}` + "<br><br>");
        jogar(tabuleiro, JOGADOR2, vezDaJogada);
        exibirTabuleiro();

        // Verificar se venceu: estadoDoJogo=1;

        // Verificar se empatou: estadoDoJogo=1;

        // Verificar se não: estadoDoJogo = 0; continue no laço

        vezDaJogada++;
    }

</script>
